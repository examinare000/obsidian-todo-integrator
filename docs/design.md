# Todo Integrator Plugin è¨­è¨ˆæ›¸

## æ¦‚è¦

Todo Integrator ã¯ã€Obsidian ã¨ Microsoft Todo ã‚’åŒæ–¹å‘åŒæœŸã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚
æœ¬è¨­è¨ˆæ›¸ã¯ã€t-wadaæ°ã®TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«å¾“ã£ã¦ã€ãƒ†ã‚¹ãƒˆå¯èƒ½ãªè¨­è¨ˆã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

# Microsoft Todo Integrator - è¨­è¨ˆãƒ»é–‹ç™ºè¨ˆç”»

## æ¦‚è¦

Microsoft ToDoã¨Obsidianã®Daily Noteã‚’åŒæ–¹å‘åŒæœŸã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- Microsoft ToDoã®æ–°è¦ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•çš„ã«Obsidianã®Daily Noteã®ToDoã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ 
- Obsidianã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’Microsoft ToDoã«åŒæœŸï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ä»˜ãï¼‰
- å®Œäº†ã‚¿ã‚¹ã‚¯ã®åŒæ–¹å‘åŒæœŸã¨DataViewæº–æ‹ ã®å®Œäº†æ—¥æ™‚è¨˜éŒ²

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

- **v0.3.5** - DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³äº’æ›æ€§ã¨Microsoft To Doå®Œäº†åŒæœŸä¿®æ­£
  - Microsoft To Doå´ã§å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯ãŒObsidianã«åæ˜ ã•ã‚Œãªã„å•é¡Œã‚’ä¿®æ­£
  - completedDateTimeãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã§è¿”ã•ã‚Œã‚‹å ´åˆã®å‡¦ç†è¿½åŠ 
  - DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¤œå‡ºæ©Ÿèƒ½ã¨ã‚¿ã‚¹ã‚¯å®Œäº†æ—¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆäº’æ›æ€§
  - DataViewã®ã€ŒUse emoji shorthand for completionã€è¨­å®šã‚’å°Šé‡
  - å®Œäº†æ—¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æŸ”è»Ÿãªå‡¦ç†ï¼ˆçµµæ–‡å­—å½¢å¼ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å½¢å¼ã®ä¸¡å¯¾å¿œï¼‰
- **v0.3.4** - å†…éƒ¨åŒæœŸæ©Ÿèƒ½ã¨ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å‡¦ç†ã®å®Ÿè£…
  - ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®å†…éƒ¨åŒæœŸæ©Ÿèƒ½
  - å­˜åœ¨ã—ãªã„ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è‡ªå‹•å‰Šé™¤
  - UTCæ—¥ä»˜å¤‰æ›ã®ãƒã‚°ä¿®æ­£ï¼ˆZã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹è¿½åŠ ï¼‰
  - ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¯¾å¿œ
  - ã‚¿ã‚¹ã‚¯å‰Šé™¤ãƒ»å¤‰æ›´ã®æ¤œå‡ºã¨å‡¦ç†
- **v0.3.1-dev** - [todo::ID]ãƒ‘ã‚¿ãƒ¼ãƒ³å‡¦ç†ã®æ”¹å–„ã¨ãƒ†ã‚¹ãƒˆå¼·åŒ–
  - éå»ã®ãƒã‚°ã§ç”Ÿæˆã•ã‚ŒãŸ[todo::ID]ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¢ºå®Ÿãªé™¤å»
  - cleanTaskTitle()ãƒ¡ã‚½ãƒƒãƒ‰ã®æ”¹å–„ï¼ˆã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã®å‡¦ç†ï¼‰
  - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã¨ã®å®Œäº†çŠ¶æ…‹åŒæœŸæ™‚ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒƒãƒãƒ³ã‚°æ”¹å–„
  - åŒ…æ‹¬çš„ãªã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆã®è¿½åŠ 
  - SyncResultå‹ã«å¾Œæ–¹äº’æ›æ€§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
- **v0.3.0** - æœ€æ–°å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿æ™‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤ºæ©Ÿèƒ½è¿½åŠ 
  - è©³ç´°ãªãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®è¿½åŠ 
  - ã‚¿ã‚¹ã‚¯åŒæœŸæ™‚ã®ãƒ­ã‚°æ”¹å–„
- **v0.2.10** - ãƒã‚°ä¿®æ­£ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- **v0.2.9** - ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã®å¼·åŒ–
  - ã‚¿ã‚¹ã‚¯è¿½åŠ æ™‚ã®è©³ç´°ãƒ­ã‚°
  - åŒæœŸå‡¦ç†ã®ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£å‘ä¸Š
- **v0.2.8** - å®‰å®šæ€§ã®å‘ä¸Š
- **v0.2.6** - ã‚¿ã‚¹ã‚¯é…ç½®ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„
  - Microsoft Todo â†’ ObsidianåŒæœŸæ™‚ã«æœŸé™æ—¥ã‚’å„ªå…ˆçš„ã«å‚ç…§
  - æœŸé™æ—¥ãŒãªã„å ´åˆã®ã¿ä½œæˆæ—¥ã‚’ä½¿ç”¨
  - ã‚¿ã‚¹ã‚¯ã‚’ã‚ˆã‚Šé©åˆ‡ãªæ—¥ä»˜ã®Daily Noteã«é…ç½®
- **v0.2.5** - TaskMetadataStoreå®Ÿè£…ã€åŒ…æ‹¬çš„ãªã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«åˆæœŸåŒ–ä¿®æ­£
  - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
  - ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ã®todo IDã‚¿ã‚°è‡ªå‹•é™¤å»å¼·åŒ–
  - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«è¨­å®šã®åˆæœŸåŒ–ã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–
- **v0.2.4** - ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚µãƒãƒ¼ãƒˆæº–å‚™ã€ã‚¿ã‚¹ã‚¯IDé™¤å»ã®å¼·åŒ–
- **v0.2.3** - ã‚¿ã‚¹ã‚¯è¿½åŠ æ™‚ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³é…ç½®ä¿®æ­£
- **v0.2.2** - é‡è¤‡ã‚¿ã‚¹ã‚¯é˜²æ­¢ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®šåŒæœŸ
- **v0.2.1** - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®ä¿®æ­£ã€è¨­å®šç”»é¢ã®è­¦å‘Šè¡¨ç¤ºæ”¹å–„
- **v0.2.0** - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆInputSanitizer, SecureErrorHandlerè¿½åŠ ï¼‰
- **v0.1.14** - ãƒ‘ã‚¹æ¤œè¨¼æ©Ÿèƒ½ã®è¿½åŠ 
- **v0.1.13** - Advanced Configurationæ©Ÿèƒ½ã®è¿½åŠ 
- **v0.1.12** - ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹èªè¨¼UIã¸ã®å¤‰æ›´
- **v0.1.11** - Daily Notesè¨­å®šç¶™æ‰¿æ©Ÿèƒ½ã®å®Ÿè£…

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
main.ts (ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«)
â””â”€â”€ src/TodoIntegratorPlugin.ts (å®Ÿéš›ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹)
    â”œâ”€â”€ Core Components
    â”‚   â”œâ”€â”€ Logger (simpleLogger with log level support)
    â”‚   â”œâ”€â”€ ErrorHandler
    â”‚   â”œâ”€â”€ PluginSettings
    â”‚   â””â”€â”€ Authentication & API
    â”‚       â”œâ”€â”€ MSALAuthenticationManager
    â”‚       â””â”€â”€ TodoApiClient
    â”œâ”€â”€ Data Management
    â”‚   â”œâ”€â”€ DailyNoteManager
    â”‚   â”œâ”€â”€ ObsidianTodoParser
    â”‚   â”œâ”€â”€ TodoSynchronizer
    â”‚   â””â”€â”€ TaskMetadataStore (v0.2.5+)
    â”œâ”€â”€ UI Components
    â”‚   â”œâ”€â”€ TodoIntegratorSettingsTab
    â”‚   â”œâ”€â”€ SidebarButton
    â”‚   â””â”€â”€ AuthenticationModal
    â””â”€â”€ Security & Utils
        â”œâ”€â”€ InputSanitizer
        â”œâ”€â”€ PathValidator
        â””â”€â”€ SecureErrorHandler
```

## é–¢æ•°åˆ†è§£ãƒ»é–‹ç™ºè¨ˆç”»

### 1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

#### `TodoIntegratorPlugin.onload()`
```typescript
async onload(): Promise<void>
```
- `loadData()` - è¨­å®šãƒ‡ãƒ¼ã‚¿ã®äº‹å‰èª­ã¿è¾¼ã¿ (v0.2.5+)
- `new simpleLogger(logLevel)` - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’é©ç”¨ã—ãŸãƒ­ã‚¬ãƒ¼åˆæœŸåŒ– (v0.2.5+)
- `initializeComponents()` - ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆæœŸåŒ–
- `loadSettings()` - è¨­å®šã®èª­ã¿è¾¼ã¿ã¨é©ç”¨
- `addCommands()` - ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆé …ç›®ã®è¿½åŠ 
- `addRibbonIcon()` - ãƒªãƒœãƒ³ã‚¢ã‚¤ã‚³ãƒ³ã®è¿½åŠ 
- `addSettingTab()` - è¨­å®šã‚¿ãƒ–ã®è¿½åŠ 
- `createSidebarButton()` - ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒœã‚¿ãƒ³ã®ä½œæˆ
- `initializeAfterAuth()` - èªè¨¼å¾ŒåˆæœŸåŒ–ï¼ˆæ¡ä»¶ä»˜ãï¼‰

#### `TodoIntegratorPlugin.onunload()`
```typescript
onunload(): void
```
- `cleanup()` - ãƒªã‚½ãƒ¼ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- `stopAutoSync()` - è‡ªå‹•åŒæœŸã®åœæ­¢

### 2. èªè¨¼æ©Ÿèƒ½

#### `MSALAuthenticationManager.initialize()`
```typescript
async initialize(clientId: string, tenantId: string): Promise<void>
```
- MSAL PublicClientApplicationã®è¨­å®š
- ãƒ­ã‚¬ãƒ¼è¨­å®š
- æ¨©é™ã‚¹ã‚³ãƒ¼ãƒ—ã®è¨­å®š

#### `MSALAuthenticationManager.authenticate()`
```typescript
async authenticate(deviceCodeCallback?: Function): Promise<AuthenticationResult>
```
- `attemptSilentAuth()` - ã‚µã‚¤ãƒ¬ãƒ³ãƒˆèªè¨¼ã®è©¦è¡Œ
- `initiateDeviceCodeFlow()` - ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ã®é–‹å§‹
- `handleDeviceCodeCallback()` - UIã¸ã®ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰è¡¨ç¤º

#### `MSALAuthenticationManager.getAccessToken()`
```typescript
async getAccessToken(): Promise<string>
```
- `checkTokenExpiry()` - ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯
- `refreshTokenSilently()` - ã‚µã‚¤ãƒ¬ãƒ³ãƒˆãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°

### 3. Microsoft Graph APIé€£æº

#### `TodoApiClient.initialize()`
```typescript
initialize(accessToken: string): void
```
- Graph Clientã®åˆæœŸåŒ–
- èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®è¨­å®š

#### `TodoApiClient.getOrCreateTaskList()`
```typescript
async getOrCreateTaskList(listName: string): Promise<string>
```
- `fetchExistingLists()` - æ—¢å­˜ãƒªã‚¹ãƒˆå–å¾—
- `findTargetList()` - å¯¾è±¡ãƒªã‚¹ãƒˆæ¤œç´¢
- `createNewList()` - æ–°è¦ãƒªã‚¹ãƒˆä½œæˆï¼ˆå¿…è¦æ™‚ï¼‰

#### `TodoApiClient.getTasks()`
```typescript
async getTasks(): Promise<TodoTask[]>
```
- `fetchTasksFromGraph()` - Graph APIã‹ã‚‰ã‚¿ã‚¹ã‚¯å–å¾—
- `transformTaskData()` - ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›

#### `TodoApiClient.createTaskWithStartDate()`
```typescript
async createTaskWithStartDate(title: string, startDate?: string): Promise<TodoTask>
```
- `validateTaskInput()` - å…¥åŠ›å€¤æ¤œè¨¼
- `cleanTitle()` - ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰[todo::ã‚¿ã‚°ã‚’é™¤å» (v0.2.2+, v0.2.5å¼·åŒ–)
- `formatTaskData()` - ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `submitToGraph()` - Graph APIã¸ã®é€ä¿¡

#### `TodoApiClient.updateTaskTitle()`
```typescript
async updateTaskTitle(listId: string, taskId: string, newTitle: string): Promise<void>
```
- `validateInput()` - å…¥åŠ›å€¤æ¤œè¨¼
- `cleanTitle()` - ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰[todo::ã‚¿ã‚°ã‚’é™¤å» (v0.2.5+)
- `sendUpdateRequest()` - Graph APIã¸ã®æ›´æ–°ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

#### `TodoApiClient.completeTask()`
```typescript
async completeTask(taskId: string): Promise<void>
```
- `validateTaskId()` - ã‚¿ã‚¹ã‚¯IDæ¤œè¨¼
- `updateTaskStatus()` - ã‚¿ã‚¹ã‚¯çŠ¶æ…‹æ›´æ–°

#### `TodoApiClient.getUserInfo()`
```typescript
async getUserInfo(): Promise<{email: string, displayName: string}>
```
- `fetchUserProfile()` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
- `extractUserData()` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

### 4. Daily Noteç®¡ç†

#### `DailyNoteManager.getTodayNotePath()`
```typescript
getTodayNotePath(): string
```
- `formatDateString()` - æ—¥ä»˜æ–‡å­—åˆ—ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `constructFilePath()` - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹æ§‹ç¯‰

#### `DailyNoteManager.ensureTodayNoteExists()`
```typescript
async ensureTodayNoteExists(): Promise<string>
```
- `checkFileExists()` - ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª
- `createDailyNote()` - Daily Noteä½œæˆ
- `addDefaultTemplate()` - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ 

#### `DailyNoteManager.findOrCreateTodoSection()`
```typescript
async findOrCreateTodoSection(filePath: string): Promise<number>
```
- `parseFileContent()` - ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹è§£æ
- `locateTodoSection()` - ToDoã‚»ã‚¯ã‚·ãƒ§ãƒ³æ¤œç´¢
- `insertTodoSection()` - ToDoã‚»ã‚¯ã‚·ãƒ§ãƒ³æŒ¿å…¥ï¼ˆå¿…è¦æ™‚ï¼‰

#### `DailyNoteManager.addTaskToTodoSection()`
```typescript
async addTaskToTodoSection(filePath: string, taskTitle: string, taskSectionHeading?: string): Promise<void>
```
- `findOrCreateTodoSection()` - Todoã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ¤œç´¢/ä½œæˆ
- `rereadFileContent()` - ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆå¾Œã®ãƒ•ã‚¡ã‚¤ãƒ«å†èª­ã¿è¾¼ã¿ (v0.2.3+)
- `findInsertionPoint()` - æŒ¿å…¥ä½ç½®ç‰¹å®š
- `formatTaskLine()` - ã‚¿ã‚¹ã‚¯è¡Œãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆtodo IDã‚¿ã‚°ã‚’å«ã‚ãªã„ v0.2.5+ï¼‰
- `insertTaskLine()` - ã‚¿ã‚¹ã‚¯è¡ŒæŒ¿å…¥

#### `DailyNoteManager.getDailyNoteTasks()`
```typescript
async getDailyNoteTasks(filePath: string): Promise<DailyNoteTask[]>
```
- `parseFileForTasks()` - ãƒ•ã‚¡ã‚¤ãƒ«å†…ã‚¿ã‚¹ã‚¯è§£æ
- `extractTaskMetadata()` - ã‚¿ã‚¹ã‚¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º

### 5. Obsidianã‚¿ã‚¹ã‚¯è§£æ

#### `ObsidianTodoParser.parseVaultTodos()`
```typescript
async parseVaultTodos(): Promise<ObsidianTask[]>
```
- `scanMarkdownFiles()` - Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ã‚­ãƒ£ãƒ³
- `extractCheckboxes()` - ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æŠ½å‡º
- `parseTaskMetadata()` - ã‚¿ã‚¹ã‚¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è§£æ

#### `ObsidianTodoParser.updateCheckboxStatus()`
```typescript
async updateCheckboxStatus(filePath: string, lineNumber: number, completed: boolean, completionDate?: string): Promise<void>
```
- `readFileContent()` - ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹èª­ã¿è¾¼ã¿
- `modifyTaskLine()` - ã‚¿ã‚¹ã‚¯è¡Œä¿®æ­£
- `addCompletionDate()` - å®Œäº†æ—¥è¿½åŠ ï¼ˆDataViewå½¢å¼ï¼‰
- `writeFileContent()` - ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹æ›¸ãè¾¼ã¿

#### `ObsidianTodoParser.extractTaskTitle()`
```typescript
extractTaskTitle(taskLine: string): string
```
- `removeCheckboxSyntax()` - ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æ§‹æ–‡é™¤å»
- `cleanupTaskText()` - ã‚¿ã‚¹ã‚¯ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### 6. åŒæœŸãƒ­ã‚¸ãƒƒã‚¯

#### `TodoSynchronizer` ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ (v0.2.5+)
```typescript
constructor(apiClient: TodoApiClient, dailyNoteManager: DailyNoteManager, logger: Logger, taskSectionHeading: string | undefined, plugin: Plugin)
```
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«å¤‰æ›´
- TaskMetadataStoreã®åˆæœŸåŒ–

#### `TodoSynchronizer.performFullSync()`
```typescript
async performFullSync(): Promise<SyncResult>
```
- `ensureTodayNoteExists()` - ä»Šæ—¥ã®ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆç¢ºä¿
- `reconcileMetadataWithDailyNotes()` - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆã®å†…éƒ¨åŒæœŸ (v0.3.4+)
- `syncMsftToObsidian()` - Microsoft Todo â†’ ObsidianåŒæœŸ
- `syncObsidianToMsft()` - Obsidian â†’ Microsoft TodoåŒæœŸ
- `syncCompletions()` - å®Œäº†çŠ¶æ…‹åŒæ–¹å‘åŒæœŸ
- `cleanupOldMetadata()` - 90æ—¥ä»¥ä¸Šå¤ã„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— (v0.2.5+)
- `generateSyncReport()` - åŒæœŸçµæœãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- **v0.3.1+**: SyncResultå‹ã«å¾Œæ–¹äº’æ›æ€§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  - `added`: ç·è¿½åŠ æ•°
  - `completed`: ç·å®Œäº†æ•°
  - `errors`: å…¨ã‚¨ãƒ©ãƒ¼é…åˆ—

#### `TodoSynchronizer.reconcileMetadataWithDailyNotes()` (v0.3.4+)
```typescript
async reconcileMetadataWithDailyNotes(): Promise<void>
```
- `getAllDailyNoteFiles()` - å…¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
- `extractDatesFromFiles()` - ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ—¥ä»˜æŠ½å‡º
- `getAllMetadata()` - å…¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—
- `removeMetadataForNonExistentFiles()` - å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
- `detectTaskDeletion()` - ã‚¿ã‚¹ã‚¯ã®å‰Šé™¤æ¤œå‡º
- `detectTaskModification()` - ã‚¿ã‚¹ã‚¯ã®å¤‰æ›´æ¤œå‡ºï¼ˆã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´ï¼‰
- `updateMetadataForModifiedTasks()` - å¤‰æ›´ã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°

#### `TodoSynchronizer.syncMsftToObsidian()`
```typescript
async syncMsftToObsidian(): Promise<{added: number, errors: string[]}>
```
- `fetchMsftTasks()` - Microsoft Todoã‚¿ã‚¹ã‚¯å–å¾—
- `cleanMsftTaskTitles()` - Microsoft Todoã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚° (v0.2.5+)
  - `[todo::ID]`ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡ºã—ã¦é™¤å»
  - Microsoft Todo APIã§ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ›´æ–°
- `fetchObsidianTasks()` - Obsidianã‚¿ã‚¹ã‚¯å–å¾—
- `findNewMsftTasks()` - æ–°è¦Microsoft Todoã‚¿ã‚¹ã‚¯ç‰¹å®šï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- `determineTaskDate()` - ã‚¿ã‚¹ã‚¯ã®é…ç½®æ—¥ä»˜æ±ºå®š (v0.2.6+)
  - æœŸé™æ—¥ï¼ˆdueDateTimeï¼‰ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨
  - æœŸé™æ—¥ãŒãªã„å ´åˆã¯ä½œæˆæ—¥ï¼ˆcreatedDateTimeï¼‰ã‚’ä½¿ç”¨
  - **v0.3.4+**: UTCæ—¥æ™‚æ–‡å­—åˆ—ã«Zã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã—ã¦ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›
- `addTasksToDailyNote()` - Daily Noteã¸ã‚¿ã‚¹ã‚¯è¿½åŠ 
- `storeTaskMetadata()` - TaskMetadataStoreã¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜ (v0.2.5+)

#### `TodoSynchronizer.syncObsidianToMsft()`
```typescript
async syncObsidianToMsft(): Promise<{added: number, errors: string[]}>
```
- `findNewObsidianTasks()` - æ–°è¦Obsidianã‚¿ã‚¹ã‚¯ç‰¹å®šï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- `checkExistingMsftTasks()` - æ—¢å­˜Microsoft Todoã‚¿ã‚¹ã‚¯ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ (v0.2.2+)
- `createMsftTasks()` - Microsoft Todoã‚¿ã‚¹ã‚¯ä½œæˆï¼ˆcreateTaskWithStartDateã‚’ä½¿ç”¨ï¼‰
- `storeTaskMetadata()` - TaskMetadataStoreã¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜ (v0.2.5+)
  - **é‡è¦**: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯å¸¸ã«ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¿ã‚¤ãƒˆãƒ«ï¼ˆ[todo::ID]ã‚’é™¤å»æ¸ˆã¿ï¼‰ã§ä¿å­˜

#### `TodoSynchronizer.syncCompletions()`
```typescript
async syncCompletions(): Promise<{completed: number, errors: string[]}>
```
- `findCompletedMsftTasks()` - å®Œäº†Microsoft Todoã‚¿ã‚¹ã‚¯ç‰¹å®šï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- `findCompletedObsidianTasks()` - å®Œäº†Obsidianã‚¿ã‚¹ã‚¯ç‰¹å®šï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
- `syncCompletionStates()` - å®Œäº†çŠ¶æ…‹åŒæœŸ
  - **v0.3.1+**: ä¸¡æ–¹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’cleanTaskTitle()ã§ã‚¯ãƒªãƒ¼ãƒ³åŒ–ã—ã¦ã‹ã‚‰æ¯”è¼ƒ
- `parseCompletionDate()` - å®Œäº†æ—¥ã®è§£æ (v0.3.5+)
  - completedDateTimeãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã®å ´åˆã®å‡¦ç†
  - dateTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‹ã‚‰æ—¥ä»˜æ–‡å­—åˆ—ã‚’æŠ½å‡º
- `addCompletionDates()` - å®Œäº†æ—¥æ™‚è¨˜éŒ²
  - **v0.3.5+**: DataViewCompatçµŒç”±ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ±ºå®š

#### `TodoSynchronizer.detectDuplicates()`
```typescript
detectDuplicates(obsidianTasks: ObsidianTask[], msftTasks: TodoTask[]): TaskPair[]
```
- `normalizeTaskTitles()` - ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«æ­£è¦åŒ–
- `compareTaskTitles()` - ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«æ¯”è¼ƒ
- `generateTaskPairs()` - ã‚¿ã‚¹ã‚¯ãƒšã‚¢ç”Ÿæˆ

#### `TodoSynchronizer.cleanTaskTitle()` (private, v0.3.1+)
```typescript
private cleanTaskTitle(title: string): string
```
- `[todo::ID]`ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Œå…¨ã«é™¤å»
- è¤‡æ•°ã®ç©ºç™½ã‚’å˜ä¸€ã‚¹ãƒšãƒ¼ã‚¹ã«æ­£è¦åŒ–
- å‰å¾Œã®ç©ºç™½ã‚’ãƒˆãƒªãƒŸãƒ³ã‚°
- **æ”¹å–„ç‚¹**: 
  - ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã®å‡¦ç†ã§å¯èª­æ€§å‘ä¸Š
  - ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã®ä½¿ç”¨

### 7. è¨­å®šç®¡ç†

#### `PluginSettings.loadSettings()`
```typescript
async loadSettings(): Promise<TodoIntegratorSettings>
```
- `readSettingsFile()` - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
- `mergeWithDefaults()` - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ãƒãƒ¼ã‚¸
- `validateSettings()` - è¨­å®šå€¤æ¤œè¨¼
- `inheritDailyNotesSettings()` - Daily Notesãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‹ã‚‰ã®è¨­å®šç¶™æ‰¿

#### `PluginSettings.saveSettings()`
```typescript
async saveSettings(settings: TodoIntegratorSettings): Promise<void>
```
- `validateBeforeSave()` - ä¿å­˜å‰æ¤œè¨¼
- `writeSettingsFile()` - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿

#### `PluginSettings.updateSetting()`
```typescript
updateSetting<K extends keyof TodoIntegratorSettings>(key: K, value: TodoIntegratorSettings[K]): void
```
- `validateSettingValue()` - è¨­å®šå€¤æ¤œè¨¼
- `updateInMemorySettings()` - ãƒ¡ãƒ¢ãƒªå†…è¨­å®šæ›´æ–°
- `trackUserModification()` - ãƒ¦ãƒ¼ã‚¶ãƒ¼å¤‰æ›´ã®è¿½è·¡ï¼ˆç¶™æ‰¿ãƒ•ãƒ©ã‚°ï¼‰
- `updateDailyNoteManager()` - DailyNoteManagerè¨­å®šã®å³æ™‚æ›´æ–° (0.2.2+)

#### `PluginSettings.getClientConfig()`
```typescript
getClientConfig(): {clientId: string, tenantId: string}
```
- `extractAuthConfig()` - èªè¨¼è¨­å®šæŠ½å‡º
- `validateAuthConfig()` - èªè¨¼è¨­å®šæ¤œè¨¼
- `resolveAdvancedConfig()` - Advanced Configurationæœ‰åŠ¹æ™‚ã®è¨­å®šè§£æ±º

### è¿½åŠ å®Ÿè£…ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆdesign.mdã«æœªè¨˜è¼‰ï¼‰

#### `TodoIntegratorPlugin.applyDailyNotesDefaults()`
```typescript
applyDailyNotesDefaults(): void
```
- Daily Notesãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‹ã‚‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šé©ç”¨
- è¨­å®šã®ç¶™æ‰¿ç®¡ç†

#### `TodoIntegratorPlugin.getAuthenticationStatus()`
```typescript
getAuthenticationStatus(): AuthenticationStatus
```
- ç¾åœ¨ã®èªè¨¼çŠ¶æ…‹ã‚’è¿”ã™
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨

#### `TodoIntegratorPlugin.logout()`
```typescript
async logout(): Promise<void>
```
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
- ãƒˆãƒ¼ã‚¯ãƒ³ã‚¯ãƒªã‚¢
- è¨­å®šãƒªã‚»ãƒƒãƒˆ

#### `DailyNoteManager.getAllDailyNoteFiles()`
```typescript
async getAllDailyNoteFiles(): Promise<TFile[]>
```
- ã™ã¹ã¦ã®Daily Noteãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—
- æ—¥ä»˜ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°

#### `DailyNoteManager.extractDateFromFilename()`
```typescript
extractDateFromFilename(filename: string): string | null
```
- ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰æ—¥ä»˜ã‚’æŠ½å‡º
- æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›

### 8. UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### `TodoIntegratorSettingsTab.display()`
```typescript
display(): void
```
- `renderAuthSection()` - èªè¨¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³æç”»
- `renderAdvancedClientSettings()` - Advanced Configurationè¨­å®šï¼ˆæ¡ä»¶ä»˜ãè¡¨ç¤ºï¼‰
- `renderSyncSettings()` - åŒæœŸè¨­å®šæç”»
- `renderDailyNoteSettings()` - Daily Noteè¨­å®šæç”»ï¼ˆç¶™æ‰¿è¡¨ç¤ºä»˜ãï¼‰
- `renderAdvancedSettings()` - è©³ç´°è¨­å®šæç”»
- `showValidationMessage()` - ãƒ‘ã‚¹æ¤œè¨¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- `showFileSelector()` - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼

#### `AuthenticationModal.showDeviceCodeInstructions()`
```typescript
showDeviceCodeInstructions(userCode: string, verificationUri: string): void
```
- `updateProgress()` - é€²è¡ŒçŠ¶æ³æ›´æ–°
- `displayDeviceCode()` - ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰è¡¨ç¤º
- `showInstructions()` - èªè¨¼æ‰‹é †è¡¨ç¤º
- `enableActionButtons()` - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
- `openBrowserDirectly()` - ãƒ–ãƒ©ã‚¦ã‚¶ç›´æ¥é–‹ãæ©Ÿèƒ½ï¼ˆ0.1.12+ï¼‰

#### `SidebarButton.updateSyncStatus()`
```typescript
updateSyncStatus(status: 'idle' | 'syncing' | 'success' | 'error', message?: string): void
```
- `clearPreviousStatus()` - å‰å›çŠ¶æ…‹ã‚¯ãƒªã‚¢
- `setStatusIcon()` - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¢ã‚¤ã‚³ãƒ³è¨­å®š
- `setStatusText()` - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š
- `updateButtonState()` - ãƒœã‚¿ãƒ³çŠ¶æ…‹æ›´æ–°

### 9. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### `ErrorHandler.handleApiError()`
```typescript
handleApiError(error: any): string
```
- `classifyError()` - ã‚¨ãƒ©ãƒ¼åˆ†é¡
- `extractErrorMessage()` - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æŠ½å‡º
- `generateUserFriendlyMessage()` - ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ

#### `ErrorHandler.logError()`
```typescript
logError(message: string, context: string, error?: any): void
```
- `formatErrorLog()` - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `addContextInfo()` - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±è¿½åŠ 
- `writeToLogger()` - ãƒ­ã‚¬ãƒ¼ã¸ã®æ›¸ãè¾¼ã¿

### 10. ãƒ­ã‚°æ©Ÿèƒ½

#### `Logger.setLogLevel()`
```typescript
setLogLevel(level: 'debug' | 'info' | 'error'): void
```
- `validateLogLevel()` - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«æ¤œè¨¼
- `updateLoggerConfig()` - ãƒ­ã‚¬ãƒ¼è¨­å®šæ›´æ–°

#### `Logger.log()`
```typescript
private log(level: string, message: string, context?: any): void
```
- `checkLogLevel()` - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯
- `formatLogEntry()` - ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `writeToConsole()` - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›
- `addToLogHistory()` - ãƒ­ã‚°å±¥æ­´è¿½åŠ 

### 11. ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰å®šæ•°

#### `ERROR_CODES`
```typescript
const ERROR_CODES = {
  AUTH_FAILED: 'AUTH_FAILED',
  NETWORK_ERROR: 'NETWORK_ERROR',
  FILE_NOT_FOUND: 'FILE_NOT_FOUND',
  INVALID_INPUT: 'INVALID_INPUT',
  // ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰
}
```
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã§ä½¿ç”¨
- ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼åˆ†é¡

### 12. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (0.2.0+)

#### `InputSanitizer`
```typescript
class InputSanitizer
```
- `sanitize()` - åŸºæœ¬çš„ãªæ–‡å­—åˆ—ãƒˆãƒªãƒŸãƒ³ã‚°
- `sanitizeHtml()` - XSSæ”»æ’ƒé˜²æ­¢ã®ãŸã‚ã®HTMLæ–‡å­—ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
- `sanitizeFilename()` - ãƒ•ã‚¡ã‚¤ãƒ«åã®å±é™ºæ–‡å­—é™¤å»
- `sanitizePath()` - ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«æ”»æ’ƒé˜²æ­¢
- `validateUrl()` - URLæ¤œè¨¼ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- `sanitizeForNotification()` - é€šçŸ¥ç”¨æ–‡å­—åˆ—ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- `validateString()` - æ–‡å­—åˆ—é•·ã¨å†…å®¹ã®æ¤œè¨¼

#### `PathValidator`
```typescript
class PathValidator
```
- `validateFolderPath()` - ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹ã®å­˜åœ¨ç¢ºèª
- `validateFilePath()` - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®å­˜åœ¨ç¢ºèª
- `createFolderIfNeeded()` - ãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆææ¡ˆã¨å®Ÿè¡Œ
- `normalizePath()` - ãƒ‘ã‚¹æ­£è¦åŒ–ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
- `getAllFolders()` - Vaultå†…å…¨ãƒ•ã‚©ãƒ«ãƒ€ä¸€è¦§å–å¾—
- `getAllMarkdownFiles()` - Vaultå†…å…¨Markdownãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§å–å¾—

#### `SecureErrorHandler`
```typescript
class SecureErrorHandler
```
- `handleApiError()` - API ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `handleAuthError()` - èªè¨¼ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `handleFileError()` - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `handleNetworkError()` - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `handleValidationError()` - æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `handleGenericError()` - æ±ç”¨ã‚¨ãƒ©ãƒ¼ã®å®‰å…¨ãªå‡¦ç†
- `createSafeErrorMessage()` - æ©Ÿå¯†æƒ…å ±ã‚’ãƒã‚¹ã‚¯ã—ãŸã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ

### 13. ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (v0.2.5+)

#### `TaskMetadataStore`
```typescript
class TaskMetadataStore
```
- `constructor(plugin: Plugin, logger: SimpleLogger)` - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¿…é ˆã«
- `setMetadata(date: string, title: string, msftTaskId: string)` - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- `getMsftTaskId(date: string, title: string)` - Microsoft Todo IDå–å¾—
- `getMetadataByDate(date: string)` - ç‰¹å®šæ—¥ä»˜ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—
- `findByMsftTaskId(msftTaskId: string)` - Microsoft Todo IDã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ¤œç´¢
- `updateTitle(date: string, oldTitle: string, newTitle: string)` - ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°æ™‚ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°
- `removeMetadata(date: string, title: string)` - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
- `cleanupOldMetadata()` - 90æ—¥ä»¥ä¸Šå¤ã„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å‰Šé™¤
- `clearAll()` - å…¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢ï¼ˆãƒ†ã‚¹ãƒˆãƒ»ãƒªã‚»ãƒƒãƒˆç”¨ï¼‰
- `loadMetadata()` - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
- `saveMetadata()` - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ã¸ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜

### 14. DataViewäº’æ›æ€§ (v0.3.5+)

#### `DataViewCompat`
```typescript
class DataViewCompat
```
- `constructor(app: App, logger: Logger)` - DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ¤œå‡º
- `checkDataViewPlugin()` - DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ…‹ç¢ºèª
- `loadDataViewSettings()` - DataViewè¨­å®šã®èª­ã¿è¾¼ã¿
- `getCompletionFormat(date: string)` - å®Œäº†æ—¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ±ºå®š
  - DataViewæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚: `âœ… YYYY-MM-DD`
  - DataViewã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼†emoji shorthandæœ‰åŠ¹æ™‚: DataViewè¨­å®šã«å¾“ã†
- `shouldUseEmojiShorthand()` - çµµæ–‡å­—ã‚·ãƒ§ãƒ¼ãƒˆãƒãƒ³ãƒ‰ä½¿ç”¨åˆ¤å®š
- `parseCompletionDate(taskText: string)` - å®Œäº†æ—¥ã®è§£æ
  - çµµæ–‡å­—å½¢å¼ï¼ˆâœ… YYYY-MM-DDï¼‰
  - DataViewã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å½¢å¼ï¼ˆ[completion:: YYYY-MM-DD]ï¼‰
  - ã‚«ã‚¹ã‚¿ãƒ å®Œäº†ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œ
- `refreshSettings()` - DataViewè¨­å®šã®å†èª­ã¿è¾¼ã¿

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### èªè¨¼ãƒ•ãƒ­ãƒ¼
1. `authenticateWithMicrosoft()` â†’ èªè¨¼é–‹å§‹
2. `MSALAuthenticationManager.authenticate()` â†’ ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰å–å¾—
3. `AuthenticationModal.showDeviceCodeInstructions()` â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸è¡¨ç¤º
4. ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼å®Œäº† â†’ ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
5. `TodoApiClient.initialize()` â†’ APIåˆæœŸåŒ–
6. `fetchUserInfo()` â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

### åŒæœŸãƒ•ãƒ­ãƒ¼ (v0.3.4å¼·åŒ–)
1. `performManualSync()` â†’ æ‰‹å‹•åŒæœŸé–‹å§‹
2. `TodoSynchronizer.performFullSync()` â†’ å…¨ä½“åŒæœŸå®Ÿè¡Œ
   - `ensureTodayNoteExists()` â†’ ä»Šæ—¥ã®ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆç¢ºä¿
   - **v0.3.4+**: `reconcileMetadataWithDailyNotes()` â†’ å†…éƒ¨åŒæœŸ
     - å­˜åœ¨ã—ãªã„ãƒ‡ã‚¤ãƒªãƒ¼ãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å‰Šé™¤
     - ã‚¿ã‚¹ã‚¯ã®å‰Šé™¤ãƒ»å¤‰æ›´æ¤œå‡º
     - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
3. `syncMsftToObsidian()` â†’ Microsoft Todo â†’ Obsidian
   - Microsoft Todoã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°
     - `[todo::ID]`ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œå‡ºã¨é™¤å»ï¼ˆéå»ã®ãƒã‚°ã§ä»˜ä¸ã•ã‚ŒãŸã‚‚ã®ï¼‰
     - Microsoft Todo APIã§ã®ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°
   - TaskMetadataStoreã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯è­˜åˆ¥
   - ã‚¿ã‚¹ã‚¯ã‚’[æ—¥ä»˜, ã‚¿ã‚¤ãƒˆãƒ«]ã‚¿ãƒ—ãƒ«ã§ç®¡ç†
   - ã‚¿ã‚¹ã‚¯é…ç½®æ—¥ä»˜ã®æ±ºå®š (v0.2.6+)
     - æœŸé™æ—¥ï¼ˆdueDateTimeï¼‰ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨
     - æœŸé™æ—¥ãŒãªã„å ´åˆã¯ä½œæˆæ—¥ï¼ˆcreatedDateTimeï¼‰ã‚’ä½¿ç”¨
     - **v0.3.4+**: UTCæ—¥æ™‚ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›ï¼ˆZã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹è¿½åŠ ï¼‰
   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šä¿å­˜
4. `syncObsidianToMsft()` â†’ Obsidian â†’ Microsoft Todo
   - TaskMetadataStoreã«ã‚ˆã‚‹æ–°è¦ã‚¿ã‚¹ã‚¯ç‰¹å®š
   - é‡è¤‡é˜²æ­¢ã®ãŸã‚ã®æ­£è¦åŒ–ã‚¿ã‚¤ãƒˆãƒ«æ¯”è¼ƒ
   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ãªã‚¿ã‚¤ãƒˆãƒ«ã§ä¿å­˜ï¼‰
5. `syncCompletions()` â†’ å®Œäº†çŠ¶æ…‹åŒæœŸ
   - TaskMetadataStoreã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯ãƒãƒƒãƒ”ãƒ³ã‚°
   - åŒæ–¹å‘ã®å®Œäº†çŠ¶æ…‹åŒæœŸ
   - **v0.3.1+**: ä¸¡ã‚¿ã‚¤ãƒˆãƒ«ã‚’cleanTaskTitle()ã§ã‚¯ãƒªãƒ¼ãƒ³åŒ–ã—ã¦ã‹ã‚‰æ¯”è¼ƒ
6. `cleanupOldMetadata()` â†’ 90æ—¥ä»¥ä¸Šå¤ã„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å‰Šé™¤
7. åŒæœŸçµæœé€šçŸ¥ï¼ˆv0.3.1+: å¾Œæ–¹äº’æ›æ€§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä»˜ãï¼‰

### Daily Noteä½œæˆãƒ•ãƒ­ãƒ¼
1. `DailyNoteManager.ensureTodayNoteExists()` â†’ ä»Šæ—¥ã®ãƒãƒ¼ãƒˆç¢ºä¿
2. `findOrCreateTodoSection()` â†’ ToDoã‚»ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ
3. `addTaskToTodoSection()` â†’ ã‚¿ã‚¹ã‚¯è¿½åŠ 

## å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

âœ… **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **
- MSAL ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼
- ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ãƒ»æ›´æ–°
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—
- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹èªè¨¼UI (0.1.12+)

âœ… **Microsoft Graph APIçµ±åˆ**
- ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆç®¡ç†
- ã‚¿ã‚¹ã‚¯CRUDæ“ä½œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—

âœ… **Daily Noteç®¡ç†**
- è‡ªå‹•Daily Noteä½œæˆ
- ToDoã‚»ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
- ã‚«ã‚¹ã‚¿ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼å¯¾å¿œ
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…é©åˆ‡ãªã‚¿ã‚¹ã‚¯é…ç½® (0.2.3+)
- DataViewæº–æ‹ å®Œäº†æ—¥è¨˜éŒ²
  - **v0.3.5+**: DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã®å°Šé‡
  - çµµæ–‡å­—å½¢å¼ã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å½¢å¼ã®ä¸¡å¯¾å¿œ
- Daily Notesãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‹ã‚‰ã®è¨­å®šç¶™æ‰¿ (0.2.0+)
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å³æ™‚åæ˜  (0.2.2+)

âœ… **åŒæ–¹å‘åŒæœŸ**
- é‡è¤‡æ¤œå‡ºãƒ»é™¤å¤–
- ã‚¿ã‚¤ãƒˆãƒ«æ­£è¦åŒ–ã«ã‚ˆã‚‹é‡è¤‡é˜²æ­¢ (v0.2.2+)
- ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚° (v0.2.2+, v0.2.5å¼·åŒ–)
  - æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³: `/\[todo::[^\]]*\]/g`
  - Microsoft Todoå´ã®ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°æ©Ÿèƒ½
- TaskMetadataStoreã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯è­˜åˆ¥ (v0.2.5+)
  - [æ—¥ä»˜, ã‚¿ã‚¤ãƒˆãƒ«]ã‚¿ãƒ—ãƒ«ã§ã®ä¸€æ„è­˜åˆ¥
  - Microsoft Todo IDã®åˆ†é›¢ç®¡ç†
- å®Œäº†çŠ¶æ…‹åŒæœŸ
  - **v0.3.5+**: Microsoft To Do APIã®completedDateTimeã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼å¯¾å¿œ
  - åŒæ–¹å‘ã®å®Œäº†çŠ¶æ…‹åæ˜ 
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

âœ… **UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**
- è¨­å®šã‚¿ãƒ–
- èªè¨¼ãƒ¢ãƒ¼ãƒ€ãƒ«
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒœã‚¿ãƒ³
- Advanced Configurationæ©Ÿèƒ½ (0.1.13+)
- ãƒ‘ã‚¹æ¤œè¨¼æ©Ÿèƒ½ä»˜ãè¨­å®šç”»é¢ (0.1.14+)

âœ… **è¨­å®šãƒ»ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ **
- æ°¸ç¶šåŒ–è¨­å®šç®¡ç†
- åŒ…æ‹¬çš„ãƒ­ã‚°æ©Ÿèƒ½
  - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«åˆæœŸåŒ–ä¿®æ­£ (v0.2.5+)
  - è¨­å®šèª­ã¿è¾¼ã¿å‰ã®ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«é©ç”¨
  - ãƒ‡ãƒãƒƒã‚°ã€æƒ…å ±ã€ã‚¨ãƒ©ãƒ¼ã®3ãƒ¬ãƒ™ãƒ«å¯¾å¿œ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

âœ… **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½** (v0.2.0+)
- å…¥åŠ›å€¤ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ (InputSanitizer)
- ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«æ”»æ’ƒé˜²æ­¢ (PathValidator)
- ã‚»ã‚­ãƒ¥ã‚¢ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° (SecureErrorHandler)
- XSSæ”»æ’ƒé˜²æ­¢
- æ©Ÿå¯†æƒ…å ±ã®ãƒã‚¹ã‚­ãƒ³ã‚°
- ãƒ­ã‚°å‡ºåŠ›ã§ã®æ©Ÿå¯†æƒ…å ±è‡ªå‹•ãƒã‚¹ã‚­ãƒ³ã‚° (v0.2.5+)

âœ… **ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸** (v0.2.5+)
- TaskMetadataStoreå®Ÿè£…
  - ã‚¿ã‚¹ã‚¯ã‚’[æ—¥ä»˜, ã‚¿ã‚¤ãƒˆãƒ«]ã‚¿ãƒ—ãƒ«ã§è­˜åˆ¥
  - Microsoft Todo IDã®åˆ†é›¢ç®¡ç†
  - è‡ªå‹•ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆ90æ—¥ï¼‰
  - ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ã®æ°¸ç¶šåŒ–
  - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼š
    ```typescript
    interface TaskMetadata {
      msftTaskId: string;
      date: string;
      title: string;
      lastSynced: number;
    }
    ```

âœ… **DataViewäº’æ›æ€§** (v0.3.5+)
- DataViewãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è‡ªå‹•æ¤œå‡º
- ã‚¿ã‚¹ã‚¯å®Œäº†æ—¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æŸ”è»Ÿãªå¯¾å¿œ
  - DataViewæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå½¢å¼ï¼ˆâœ… YYYY-MM-DDï¼‰
  - DataViewã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã‚’å°Šé‡
- ã€ŒUse emoji shorthand for completionã€è¨­å®šã®èª­ã¿å–ã‚Š
- ã‚«ã‚¹ã‚¿ãƒ å®Œäº†ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œ

## ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

- **180+ ãƒ†ã‚¹ãƒˆ** ã™ã¹ã¦é€šé (v0.3.1æ™‚ç‚¹)
- **å˜ä½“ãƒ†ã‚¹ãƒˆ**: å„ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®å€‹åˆ¥ãƒ†ã‚¹ãƒˆ
- **çµ±åˆãƒ†ã‚¹ãƒˆ**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“é€£æºãƒ†ã‚¹ãƒˆ
- **UIãƒ†ã‚¹ãƒˆ**: ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»è¨­å®šã‚¿ãƒ–ã®ãƒ†ã‚¹ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ**: ç•°å¸¸ç³»å‡¦ç†ãƒ†ã‚¹ãƒˆ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**: ãƒ‘ã‚¹æ¤œè¨¼ãƒ»å…¥åŠ›ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ (v0.2.0+)
- **TaskMetadataStoreãƒ†ã‚¹ãƒˆ**: å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆè¿½åŠ  (v0.2.5+)
- **ã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ**: æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹ã‚¿ã‚°é™¤å»ãƒ†ã‚¹ãƒˆ (v0.2.5+)
- **ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ**: (v0.3.1+)
  - ç©ºã®[todo::]ãƒ‘ã‚¿ãƒ¼ãƒ³
  - ãƒã‚¹ãƒˆã—ãŸ[[todo::ID]]ãƒ‘ã‚¿ãƒ¼ãƒ³
  - è¤‡æ•°ã®[todo::ID]ãƒ‘ã‚¿ãƒ¼ãƒ³
  - ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€[todo::ID]
  - ã‚¿ã‚¤ãƒˆãƒ«ãŒ[todo::ID]ã®ã¿ã®å ´åˆ
- **åŒæœŸç«¶åˆè§£æ±ºãƒ†ã‚¹ãƒˆ**: ä¸¡ã‚·ã‚¹ãƒ†ãƒ ã§åŒæ™‚å¤‰æ›´æ™‚ã®å‡¦ç† (v0.3.1+)
- **å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆ**: å¤§é‡ã‚¿ã‚¹ã‚¯ã®åŒæœŸå‡¦ç† (v0.3.1+)

## ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚µãƒãƒ¼ãƒˆ (v0.3.4å®Ÿè£…)

### å®Ÿè£…å†…å®¹
- **UTCæ—¥æ™‚ã®æ­£ã—ã„å¤‰æ›**: Microsoft To Do APIã‹ã‚‰è¿”ã•ã‚Œã‚‹UTCæ—¥æ™‚æ–‡å­—åˆ—ã‚’æ­£ã—ãè§£æ
- **è‡ªå‹•ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›**: JavaScriptã®Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹è‡ªå‹•ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›
- **Zã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®è¿½åŠ **: Microsoft To Do APIã®æ—¥æ™‚æ–‡å­—åˆ—ã«Zã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒãªã„å ´åˆã«è‡ªå‹•è¿½åŠ 
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«å¯¾å¿œ**: ä¸–ç•Œä¸­ã®ã©ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã‚‚æ­£ã—ãå‹•ä½œ

### æŠ€è¡“çš„è©³ç´°
```typescript
// UTCæ—¥æ™‚æ–‡å­—åˆ—ã®å‡¦ç†
let dueDateTimeStr = task.dueDateTime.dateTime;
if (!dueDateTimeStr.endsWith('Z')) {
    dueDateTimeStr += 'Z';  // UTCæ™‚é–“ã¨ã—ã¦ç¢ºå®Ÿã«è§£æ
}
const dueDate = new Date(dueDateTimeStr);
// JavaScriptãŒè‡ªå‹•çš„ã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã«å¤‰æ›
const localDate = `${dueDate.getFullYear()}-${month}-${day}`;
```

## Microsoft To Do APIå®Œäº†æ—¥æ™‚å½¢å¼å¯¾å¿œ (v0.3.5å®Ÿè£…)

### å•é¡Œã®èƒŒæ™¯
- Microsoft To Do APIã®completedDateTimeãŒæ–‡å­—åˆ—å½¢å¼ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã®ä¸¡æ–¹ã§è¿”ã•ã‚Œã‚‹
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼: `{ dateTime: "2025-01-27T08:48:52.937Z", timeZone: "UTC" }`
- æ–‡å­—åˆ—å½¢å¼: `"2025-01-27T08:48:52.937Z"`

### å®Ÿè£…å†…å®¹
```typescript
private parseCompletionDate(task: TodoTask): string {
    if (!task.completedDateTime) {
        return new Date().toISOString().slice(0, 10);
    }
    
    // Handle both string and object formats
    let dateTimeString: string;
    if (typeof task.completedDateTime === 'object' && 'dateTime' in task.completedDateTime) {
        dateTimeString = (task.completedDateTime as any).dateTime;
    } else if (typeof task.completedDateTime === 'string') {
        dateTimeString = task.completedDateTime;
    } else {
        // Fallback to current date
        return new Date().toISOString().slice(0, 10);
    }
    
    return new Date(dateTimeString).toISOString().slice(0, 10);
}
```

## å®Ÿè£…çŠ¶æ³ï¼ˆ2025å¹´1æœˆç¾åœ¨ï¼‰

### å®Œå…¨å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ âœ…

**èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **
- MSAL ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼èªè¨¼
- ãƒˆãƒ¼ã‚¯ãƒ³ã®è‡ªå‹•æ›´æ–°ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œï¼ˆã‚«ã‚¹ã‚¿ãƒ Azure App Registrationï¼‰
- ã‚»ã‚­ãƒ¥ã‚¢ãªãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

**Microsoft Graph APIçµ±åˆ**
- ã‚¿ã‚¹ã‚¯ã®CRUDæ“ä½œï¼ˆä½œæˆãƒ»èª­å–ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰
- ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã®ç®¡ç†ï¼ˆæ¤œç´¢ãƒ»ä½œæˆï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—
- [todo::ID]ã‚¿ã‚°ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°

**Daily Noteç®¡ç†**
- è‡ªå‹•Daily Noteä½œæˆï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¯¾å¿œï¼‰
- ã‚¿ã‚¹ã‚¯ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è‡ªå‹•ç®¡ç†
- ã‚«ã‚¹ã‚¿ãƒ æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ
- Daily Notesãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã®ç¶™æ‰¿
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°å‡¦ç†ï¼ˆ{{date}}, {{time}}ç­‰ï¼‰

**ã‚¿ã‚¹ã‚¯åŒæœŸ**
- åŒæ–¹å‘åŒæœŸï¼ˆMicrosoft Todo â‡” Obsidianï¼‰
- é‡è¤‡æ¤œå‡ºï¼ˆæ­£è¦åŒ–ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒƒãƒãƒ³ã‚°ï¼‰
- å®Œäº†çŠ¶æ…‹ã®åŒæœŸ
- TaskMetadataStoreã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯é–¢ä¿‚è¿½è·¡
- æ—¥ä»˜ãƒ™ãƒ¼ã‚¹ã®ã‚¿ã‚¹ã‚¯é…ç½®ï¼ˆæœŸé™æ—¥å„ªå…ˆï¼‰
- 90æ—¥ä»¥ä¸Šå¤ã„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å‰Šé™¤

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
- å…¥åŠ›å€¤ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«æ”»æ’ƒã®é˜²æ­¢
- ã‚»ã‚­ãƒ¥ã‚¢ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ãƒ­ã‚°å†…ã®æ©Ÿå¯†æƒ…å ±ãƒã‚¹ã‚­ãƒ³ã‚°

**UI/UX**
- è¨­å®šã‚¿ãƒ–ï¼ˆAdvanced Configurationå¯¾å¿œï¼‰
- èªè¨¼ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºï¼‰
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒœã‚¿ãƒ³ï¼ˆåŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
- ãƒ‘ã‚¹æ¤œè¨¼ã¨ææ¡ˆæ©Ÿèƒ½

### æ—¢çŸ¥ã®åˆ¶é™äº‹é … âš ï¸

**ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ **
- ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«å¤‰æ›´ãŒå³åº§ã«åæ˜ ã•ã‚Œãªã„å ´åˆãŒã‚ã‚‹
- ä¸€éƒ¨ã®ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ãŒæœŸå¾…é€šã‚Šã«è¡¨ç¤ºã•ã‚Œãªã„

### ä»Šå¾Œã®é–‹ç™ºäºˆå®š ğŸ“‹

**ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚µãƒãƒ¼ãƒˆ**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§ã®ã‚¿ã‚¹ã‚¯ä½œæˆ
- Microsoft Todoã¨Obsidiané–“ã§ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›
- è¨­å®šç”»é¢ã§ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³é¸æŠã‚ªãƒ—ã‚·ãƒ§ãƒ³
- Daily Noteæ—¥ä»˜ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³è€ƒæ…®

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
- å¤§é‡ã‚¿ã‚¹ã‚¯ã®åŒæœŸæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
- ãƒãƒƒãƒå‡¦ç†ã®å®Ÿè£…
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ã®å¼·åŒ–

**UI/UXæ”¹å–„**
- åŒæœŸé€²æ—ã®è©³ç´°è¡¨ç¤º
- ã‚¿ã‚¹ã‚¯ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- ã‚«ã‚¹ã‚¿ãƒ ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼

## æŠ€è¡“çš„è©³ç´°

### ã‚¿ã‚¤ãƒˆãƒ«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ©Ÿèƒ½
- **ç›®çš„**: ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰éå»ã®ãƒã‚°ã§ä»˜ä¸ã•ã‚ŒãŸ[todo::ID]ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é™¤å»
- **èƒŒæ™¯**: 
  - éå»ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§Microsoft To-Doã®ã‚¿ã‚¹ã‚¯IDã‚’ã‚¿ã‚¤ãƒˆãƒ«ã«èª¤ã£ã¦ä»˜è¨˜ã—ã¦ã„ãŸ
  - ä¾‹: "è²·ã„ç‰©ãƒªã‚¹ãƒˆ [todo::AQMkADAwATM3...]"
  - ç¾åœ¨ã¯ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã§ç®¡ç†ã—ã€ã‚¿ã‚¤ãƒˆãƒ«ã«ã¯å«ã‚ãªã„è¨­è¨ˆ
- **å®Ÿè£…**:
  - æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³: `/\[todo::[^\]]*\]/g`
  - TodoSynchronizer.cleanTaskTitle()ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆv0.3.1ã§æ”¹å–„ï¼‰
  - Microsoft Todo APIã§ã®ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°
- **é©ç”¨ç®‡æ‰€**:
  - Microsoft â†’ ObsidianåŒæœŸæ™‚
  - Obsidian â†’ MicrosoftåŒæœŸæ™‚ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜æ™‚ã«ã‚¯ãƒªãƒ¼ãƒ³åŒ–ï¼‰
  - ã‚¿ã‚¹ã‚¯ä½œæˆæ™‚
  - å®Œäº†çŠ¶æ…‹åŒæœŸæ™‚ã®ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒƒãƒãƒ³ã‚°ï¼ˆv0.3.1+ï¼‰

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **ç›®çš„**: ã‚¿ã‚¹ã‚¯IDã‚’è¦‹ãˆãªã„å½¢ã§ç®¡ç†
- **å®Ÿè£…**: TaskMetadataStoreã‚¯ãƒ©ã‚¹
- **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**: Obsidianãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä¿å­˜
- **è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: 90æ—¥ä»¥ä¸Šå¤ã„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«åˆæœŸåŒ–
- **å•é¡Œ**: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿æ™‚ã«ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ãŒé©ç”¨ã•ã‚Œãªã„
- **è§£æ±º**: onload()ã§loadData()ã‚’å…ˆã«å®Ÿè¡Œã—ã¦ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’å–å¾—
- **å½±éŸ¿**: èµ·å‹•æ™‚ã®ãƒ­ã‚°å‡ºåŠ›ãŒè¨­å®šã«å¾“ã†ã‚ˆã†ã«æ”¹å–„

---

# æ–°è¨­è¨ˆ: ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã¨ã‚µãƒ¼ãƒ“ã‚¹æŒ‡å‘ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### ç¾åœ¨ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   UI Layer                      â”‚
â”‚  (Settings Tab, Modal, Sidebar Button)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Plugin Core                      â”‚
â”‚         (TodoIntegratorPlugin)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Service Layer                      â”‚
â”‚  (TodoSynchronizer, DailyNoteManager)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             Infrastructure                      â”‚
â”‚  (TodoApiClient, MSALAuthManager, Parser)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Utilities                        â”‚
â”‚  (Logger, ErrorHandler, PathValidator,          â”‚
â”‚   DataViewCompat)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç¾åœ¨ã®è¨­è¨ˆã®èª²é¡Œ

### 1. å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®å¼·çµåˆ
- Microsoft Todo ã«ç‰¹åŒ–ã—ãŸå®Ÿè£…ãŒå…¨ä½“ã«æ•£åœ¨
- `TodoApiClient` ãŒ Microsoft Graph API ã«ç›´æ¥ä¾å­˜
- èªè¨¼ãŒ MSAL ã«å›ºå®š

### 2. ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®å•é¡Œ
- å¤–éƒ¨ä¾å­˜ãŒå¤šãã€å˜ä½“ãƒ†ã‚¹ãƒˆãŒå›°é›£
- ãƒ¢ãƒƒã‚¯ã®ä½œæˆãŒè¤‡é›‘
- çµ±åˆãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãŒã¡

### 3. è²¬å‹™ã®æ··åœ¨
- `TodoSynchronizer` ãŒåŒæœŸãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã‚’æ··åœ¨
- `DailyNoteManager` ãŒãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã¨ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚’å…¼å‹™

## æ–°è¨­è¨ˆï¼šã‚µãƒ¼ãƒ“ã‚¹æŒ‡å‘ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1. TodoService ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
interface TodoService {
  // èªè¨¼
  authenticate(): Promise<AuthResult>;
  logout(): Promise<void>;
  isAuthenticated(): boolean;
  
  // ãƒªã‚¹ãƒˆç®¡ç†
  getLists(): Promise<TodoList[]>;
  createList(name: string): Promise<TodoList>;
  
  // ã‚¿ã‚¹ã‚¯æ“ä½œ
  getTasks(listId: string): Promise<TodoTask[]>;
  createTask(listId: string, task: CreateTaskInput): Promise<TodoTask>;
  updateTask(listId: string, taskId: string, update: UpdateTaskInput): Promise<TodoTask>;
  deleteTask(listId: string, taskId: string): Promise<void>;
  
  // åŒæœŸç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  getTaskMetadata(taskId: string): Promise<TaskMetadata>;
}
```

### 2. ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¸­ç«‹ãªãƒ¢ãƒ‡ãƒ«

```typescript
// ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ä¸­ç«‹ãªã‚¿ã‚¹ã‚¯ãƒ¢ãƒ‡ãƒ«
interface UniversalTask {
  id: string;
  title: string;
  completed: boolean;
  dueDate?: string;
  createdDate: string;
  completedDate?: string;
  metadata: Record<string, any>;
}

// ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å›ºæœ‰ã®å¤‰æ›
interface TaskConverter<T> {
  toUniversal(providerTask: T): UniversalTask;
  fromUniversal(universalTask: UniversalTask): T;
}
```

### 3. åŒæœŸã‚¨ãƒ³ã‚¸ãƒ³ã®æŠ½è±¡åŒ–

```typescript
interface SyncEngine {
  // åŒæœŸè¨­å®š
  configure(options: SyncOptions): void;
  
  // åŒæœŸå®Ÿè¡Œ
  sync(): Promise<SyncResult>;
  
  // ç«¶åˆè§£æ±º
  resolveConflict(conflict: SyncConflict): Promise<Resolution>;
  
  // åŒæœŸçŠ¶æ…‹
  getStatus(): SyncStatus;
}
```

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 1. å˜ä½“ãƒ†ã‚¹ãƒˆã®å……å®Ÿ

#### ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®åˆ†é›¢
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç´”ç²‹é–¢æ•°ã¨ã—ã¦æŠ½å‡º
- å¤–éƒ¨ä¾å­˜ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æŠ½è±¡åŒ–
- Dependency Injection ã®æ´»ç”¨

#### ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
describe('TaskSyncLogic', () => {
  describe('ã‚¿ã‚¹ã‚¯ã®é‡è¤‡æ¤œå‡º', () => {
    it('ã‚¿ã‚¤ãƒˆãƒ«ãŒå®Œå…¨ä¸€è‡´ã™ã‚‹å ´åˆã¯é‡è¤‡ã¨åˆ¤å®šã™ã‚‹', () => {
      // Arrange
      const task1 = createTask({ title: 'Buy milk' });
      const task2 = createTask({ title: 'Buy milk' });
      
      // Act
      const isDuplicate = detectDuplicate(task1, task2);
      
      // Assert
      expect(isDuplicate).toBe(true);
    });
    
    it('ã‚¿ã‚¤ãƒˆãƒ«ã®å¤§æ–‡å­—å°æ–‡å­—ã®é•ã„ã¯ç„¡è¦–ã™ã‚‹', () => {
      // Arrange
      const task1 = createTask({ title: 'Buy Milk' });
      const task2 = createTask({ title: 'buy milk' });
      
      // Act
      const isDuplicate = detectDuplicate(task1, task2);
      
      // Assert
      expect(isDuplicate).toBe(true);
    });
  });
});
```

### 2. çµ±åˆãƒ†ã‚¹ãƒˆã®æ•´ç†

#### ãƒ†ã‚¹ãƒˆãƒ€ãƒ–ãƒ«ã®æ´»ç”¨
```typescript
class FakeTodoService implements TodoService {
  private tasks: Map<string, TodoTask[]> = new Map();
  
  async getTasks(listId: string): Promise<TodoTask[]> {
    return this.tasks.get(listId) || [];
  }
  
  async createTask(listId: string, task: CreateTaskInput): Promise<TodoTask> {
    const newTask = { ...task, id: generateId() };
    const tasks = this.tasks.get(listId) || [];
    tasks.push(newTask);
    this.tasks.set(listId, tasks);
    return newTask;
  }
}
```

### 3. E2Eãƒ†ã‚¹ãƒˆã®æœ€å°åŒ–

- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®ã¿ã‚’E2Eãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼
- å¤§éƒ¨åˆ†ã¯å˜ä½“ãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼
- ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã®åŸå‰‡ã«å¾“ã†

## ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°è¨ˆç”»

### Phase 1: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å°å…¥
1. `TodoService` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©
2. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’ `MicrosoftTodoService` ã¨ã—ã¦å®Ÿè£…
3. ä¾å­˜æ€§æ³¨å…¥ã®ä»•çµ„ã¿ã‚’å°å…¥

### Phase 2: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢
1. åŒæœŸãƒ­ã‚¸ãƒƒã‚¯ã‚’ç´”ç²‹é–¢æ•°ã¨ã—ã¦æŠ½å‡º
2. ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã¨ã‚¿ã‚¹ã‚¯ç®¡ç†ã®åˆ†é›¢
3. çŠ¶æ…‹ç®¡ç†ã®æ˜ç¢ºåŒ–

### Phase 3: ãƒ†ã‚¹ãƒˆã®å†æ§‹ç¯‰
1. å˜ä½“ãƒ†ã‚¹ãƒˆã®å……å®Ÿ
2. ãƒ†ã‚¹ãƒˆãƒ€ãƒ–ãƒ«ã®æ•´å‚™
3. ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®å‘ä¸Š

## è¨­è¨ˆåŸå‰‡

### SOLIDåŸå‰‡ã®é©ç”¨
- **S**ingle Responsibility: å„ã‚¯ãƒ©ã‚¹ã¯å˜ä¸€ã®è²¬å‹™
- **O**pen/Closed: æ‹¡å¼µã«é–‹ãã€ä¿®æ­£ã«é–‰ã˜ã‚‹
- **L**iskov Substitution: ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã¯åŸºåº•å‹ã¨ç½®æ›å¯èƒ½
- **I**nterface Segregation: å¿…è¦ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ã¿ä¾å­˜
- **D**ependency Inversion: æŠ½è±¡ã«ä¾å­˜ã—ã€å…·è±¡ã«ä¾å­˜ã—ãªã„

### ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã®å®Ÿè·µ
1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. Green: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…
3. Refactor: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„

### ç¶™ç¶šçš„ãªæ”¹å–„
- å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§é€²ã‚ã‚‹
- å¸¸ã«ãƒ†ã‚¹ãƒˆãŒé€šã‚‹çŠ¶æ…‹ã‚’ä¿ã¤
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã¯åˆ¥ã‚³ãƒŸãƒƒãƒˆ

## ä»Šå¾Œã®æ‹¡å¼µæ€§

### ä»–ã®Todoã‚µãƒ¼ãƒ“ã‚¹ã¸ã®å¯¾å¿œ
- Google Tasks
- Apple Reminders
- Todoist
- Any.do

### æ–°æ©Ÿèƒ½ã®è¿½åŠ 
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
- ç«¶åˆè§£æ±ºUI
- åŒæœŸå±¥æ­´ã®å¯è¦–åŒ–
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒªã‚¹ãƒˆã‚¢

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### ãƒã‚¹ãƒˆã—ãŸifæ–‡ã®ç¦æ­¢ï¼ˆã‚¼ãƒ­ãƒˆãƒ¬ãƒ©ãƒ³ã‚¹ï¼‰
```typescript
// âŒ ç¦æ­¢
if (condition1) {
  if (condition2) {
    // å‡¦ç†
  }
}

// âœ… æ¨å¥¨: ã‚¬ãƒ¼ãƒ‰å¥
if (!condition1) return;
if (!condition2) return;
// å‡¦ç†

// âœ… æ¨å¥¨: è¤‡åˆæ¡ä»¶
if (condition1 && condition2) {
  // å‡¦ç†
}
```

### é–¢æ•°ã®é•·ã•åˆ¶é™
- æœ€å¤§20è¡Œ
- å˜ä¸€è²¬ä»»ã®åŸå‰‡ã‚’å®ˆã‚‹
- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã¯åˆ¥é–¢æ•°ã«æŠ½å‡º

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®å¾¹åº•
- å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
- ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

## ã¾ã¨ã‚

æœ¬è¨­è¨ˆã¯ã€ãƒ†ã‚¹ãƒˆå¯èƒ½æ€§ã¨æ‹¡å¼µæ€§ã‚’é‡è¦–ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚
t-wadaæ°ã®TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«å¾“ã„ã€ã¾ãšãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€ãã‚Œã‹ã‚‰å®Ÿè£…ã‚’è¡Œã†ã“ã¨ã§ã€
å“è³ªã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ç¶­æŒã—ã¾ã™ã€‚
